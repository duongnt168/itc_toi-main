RewriteEngine On

# Force all requests to go through index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]

# Security: Prevent access to sensitive files
<Files ~ "\.(tpl|php|inc)$">
    Order allow,deny
    Deny from all
</Files>

# Allow access to index.php
<Files "index.php">
    Order allow,deny
    Allow from all
</Files>

# Prevent directory browsing
Options -Indexes

# Set default charset
AddDefaultCharset UTF-8